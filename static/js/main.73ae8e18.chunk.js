(this["webpackJsonpcovid-19-vaccine-tracker"]=this["webpackJsonpcovid-19-vaccine-tracker"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(8),l=a.n(i),o=a(7),s=a(2),r=a(3),p=(a(13),a(0));function d(e){var t=e.data,a=e.sortOption,c=e.rank;return Object(p.jsxs)("div",{className:"card ".concat(t.population||"Highest percentage vaccinated"!==a?"":"card--grey"),children:[Object(p.jsx)("div",{className:"card__index",children:c}),Object(p.jsx)("h3",{className:"card__name",children:t.name}),Object(p.jsxs)("p",{className:"card__partially-vaccinated",children:[t.peoplePartiallyVaccinated.toLocaleString()," partially vaccinated"," ",Object(p.jsx)("span",{className:"card__percentage",children:t.population?"(".concat((t.peoplePartiallyVaccinated/t.population*100).toFixed(2),"%)"):""})]}),Object(p.jsxs)("p",{className:"card__fully-vaccinated",children:[t.peopleVaccinated.toLocaleString()," fully vaccinated"," ",Object(p.jsx)("span",{className:"card__percentage",children:t.population?"(".concat((t.peopleVaccinated/t.population*100).toFixed(2),"%)"):""})]})]})}function u(e){var t=e.displayedData,a=e.sortOption;return Object(p.jsx)("div",{className:"cards-container",children:t.map((function(e,t){return Object(p.jsx)(d,{data:e,sortOption:a,rank:t+1},e.name)}))})}function j(e){var t=e.filterOption,a=e.setFilterOption;return Object(p.jsxs)("div",{className:"filter",children:[Object(p.jsx)("label",{className:"filter__label",children:"Vaccines administered by:"}),Object(p.jsxs)("select",{className:"filter__select",value:t,onChange:function(e){return a(e.target.value)},children:[Object(p.jsx)("option",{className:"filter__option",children:"Sovereign state"}),Object(p.jsx)("option",{className:"filter__option",children:"Continent"})]})]})}function b(e){var t=e.sortOption,a=e.setSortOption,c=e.filterOption;return Object(p.jsxs)("div",{className:"sort",children:[Object(p.jsx)("label",{className:"sort__label",children:"Sort by:"}),Object(p.jsxs)("select",{className:"sort__select",value:t,onChange:function(e){return a(e.target.value)},children:[Object(p.jsx)("option",{className:"sort__option",children:"Alphabetical (A-Z)"}),Object(p.jsx)("option",{className:"sort__option",children:"Most vaccines administered"}),"Sovereign state"===c?Object(p.jsx)("option",{className:"sort__option",children:"Highest percentage vaccinated"}):""]})]})}var O=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)("Alphabetical (A-Z)"),l=Object(r.a)(i,2),d=l[0],O=l[1],v=Object(c.useState)([]),m=Object(r.a)(v,2),h=m[0],f=m[1],_=Object(c.useState)([]),A=Object(r.a)(_,2),g=(A[0],A[1]),S=Object(c.useState)([]),x=Object(r.a)(S,2),y=(x[0],x[1]),N=Object(c.useState)([]),V=Object(r.a)(N,2),k=V[0],P=V[1],D=Object(c.useState)([]),U=Object(r.a)(D,2),w=(U[0],U[1]),E=Object(c.useState)([]),F=Object(r.a)(E,2),I=F[0],C=F[1];return Object(c.useEffect)((function(){if(JSON.parse(localStorage.getItem("covidVaccineData"))&&Date.now()-JSON.parse(localStorage.getItem("covidVaccineData")).timestamp<36e5){var e=JSON.parse(localStorage.getItem("covidVaccineData"));f(Object(s.a)(e.sovereignStates)),g(Object(s.a)(e.unitedKingdom)),y(Object(s.a)(e.europeanUnion)),P(Object(s.a)(e.continents)),w(Object(s.a)(e.world)),n("Sovereign state")}else fetch("https://covid-api.mmediagroup.fr/v1/vaccines").then((function(e){return e.json()})).then((function(e){var t=[],a=[],c=[],n=[],i=[];return Object.keys(e).forEach((function(l){switch(l){case"England":case"Northern Ireland":case"Scotland":case"Wales":t.push({name:l,vaccinesAdministered:e[l].All.administered,peopleVaccinated:e[l].All.people_partially_vaccinated,peoplePartiallyVaccinated:e[l].All.people_vaccinated,population:e[l].All.population,continent:e[l].All.continent,location:e[l].All.location,lastUpdated:e[l].All.updated});break;case"European Union":a.push({name:l,administered:e[l].All.administered,peopleVaccinated:e[l].All.people_partially_vaccinated,peoplePartiallyVaccinated:e[l].All.people_vaccinated,lastUpdated:e[l].All.updated,population:e[l].All.population});break;case"Europe":case"North America":case"South America":case"Oceania":case"Asia":case"Africa":n.push({name:l,administered:e[l].All.administered,peopleVaccinated:e[l].All.people_partially_vaccinated,peoplePartiallyVaccinated:e[l].All.people_vaccinated,lastUpdated:e[l].All.updated});break;case"World":i.push({name:l,administered:e[l].All.administered,peopleVaccinated:e[l].All.people_partially_vaccinated,peoplePartiallyVaccinated:e[l].All.people_vaccinated,lastUpdated:e[l].All.updated,population:e.Global.All.population});break;case"Global":break;default:c.push({name:l,vaccinesAdministered:e[l].All.administered,peopleVaccinated:e[l].All.people_partially_vaccinated,peoplePartiallyVaccinated:e[l].All.people_vaccinated,population:e[l].All.population,continent:e[l].All.continent,location:e[l].All.location,lastUpdated:e[l].All.updated})}})),{sovereignStates:c,unitedKingdom:t,europeanUnion:a,continents:n,world:i}})).then((function(e){f(Object(s.a)(e.sovereignStates)),g(Object(s.a)(e.unitedKingdom)),y(Object(s.a)(e.europeanUnion)),P(Object(s.a)(e.continents)),w(Object(s.a)(e.world)),n("Sovereign state"),localStorage.setItem("covidVaccineData",JSON.stringify(Object(o.a)(Object(o.a)({},e),{},{timestamp:Date.now()})))}))}),[]),Object(c.useEffect)((function(){C("Sovereign state"===a?h:k),O("Alphabetical (A-Z)")}),[a]),Object(c.useEffect)((function(){if("Alphabetical (A-Z)"===d){var e=Object(s.a)(I).sort((function(e,t){return e.name>t.name?1:-1}));C(e)}else if("Most vaccines administered"===d){var t=Object(s.a)(I).sort((function(e,t){return e.peoplePartiallyVaccinated<t.peoplePartiallyVaccinated?1:-1}));C(t)}else if("Highest percentage vaccinated"===d){var a=Object(s.a)(I).sort((function(e,t){return(e.population?e.peoplePartiallyVaccinated/e.population:-1)<(t.population?t.peoplePartiallyVaccinated/t.population:-1)?1:-1}));C(a)}}),[d]),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h1",{className:"title",children:"COVID-19 Vaccine Tracker"}),Object(p.jsx)(j,{filterOption:a,setFilterOption:n}),Object(p.jsx)(b,{sortOption:d,setSortOption:O,filterOption:a}),Object(p.jsx)(u,{displayedData:I,sortOption:d})]})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),c(e),n(e),i(e),l(e)}))};l.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root")),v()}},[[15,1,2]]]);
//# sourceMappingURL=main.73ae8e18.chunk.js.map